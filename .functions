#
# ~/.functions
#

function pacman(){
	# Allow to pre-download packages using SUDO, but not install or remove them.
	if [ $# == 1 -a $1 == "-Syuw" ]; then
		sudo pacman -Syuw
		return
	fi
	if [ $1 == "-Sw" ]; then
		shift
		args=$@
		echo $args | grep -E -- "[^a-zA-Z0-9. -]"
		if [ $? == 1 ]; then
			sudo pacman -Sw $args
		fi
		return
	fi
	if [ $1 == "-S" -o $1 == "-R" -o $1 == "-Rs" -o $1 == "-Syuw" -o $1 == "-U" ]; then
		args=$@
		su -c "pacman $args"
		return
	fi
	command pacman $@
	return
}

function beep(){
	# Makes the terminal window label in the application list to bold and beep.
	if [ -z "$(echo $@ | grep "\-l" )" ]; then
		local DEFAULT_LENGTH="-l 500"
	fi
	[ -n "$WINDOWID" ] && wmctrl -i -r "$WINDOWID" -b add,demands_attention
	command beep $@ $DEFAULT_LENGTH
	return
}

